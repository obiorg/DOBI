package org.dobi.app.service; import org.dobi.kafka.consumer.KafkaConsumerService; import org.dobi.manager.MachineManagerService; import org.springframework.boot.CommandLineRunner; import org.springframework.stereotype.Component; @Component public class ApplicationStartupRunner implements CommandLineRunner { private final MachineManagerService machineManagerService; private final KafkaConsumerService kafkaConsumerService; public ApplicationStartupRunner(MachineManagerService machineManagerService, KafkaConsumerService kafkaConsumerService) { this.machineManagerService = machineManagerService; this.kafkaConsumerService = kafkaConsumerService; } @Override public void run(String... args) { System.out.println("--- DÉMARRAGE DES SERVICES DOBI EN ARRIÈRE-PLAN ---"); new Thread(kafkaConsumerService).start(); machineManagerService.start(); } }
