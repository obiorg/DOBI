package org.dobi.app.controller; import org.dobi.dto.MachineStatusDto; import org.dobi.app.service.SupervisionService; import org.springframework.http.ResponseEntity; import org.springframework.web.bind.annotation.*; import java.util.List; import java.util.Map; @RestController @RequestMapping("/api/v1") public class SupervisionController { private final SupervisionService s; public SupervisionController(SupervisionService s) { this.s = s; } @GetMapping("/status") public Map<String, String> getApiStatus() { return Map.of("status", "OK"); } @GetMapping("/machines") public List<MachineStatusDto> getAllMachineStatuses() { return s.getAllMachineStatuses(); } @PostMapping("/machines/{id}/restart") public ResponseEntity<Void> restartMachine(@PathVariable Long id) { s.restartMachineCollector(id); return ResponseEntity.ok().build(); } }
